{"openapi":"3.1.0","info":{"title":"Project Aegis Backend","version":"0.1.0"},"paths":{"/api/v1/users/me":{"get":{"tags":["users"],"summary":"Read Users Me","description":"Retrieves the profile of the currently authenticated user.","operationId":"read_users_me_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me/fcm_token":{"post":{"tags":["users"],"summary":"Update Fcm Token","description":"Updates the FCM token for the currently authenticated user.","operationId":"update_fcm_token_api_v1_users_me_fcm_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FCMTokenUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me/agent/invoke":{"post":{"tags":["users"],"summary":"Invoke Agent Endpoint","description":"Invokes the Aegnt agent with a prompt from the user.","operationId":"invoke_agent_endpoint_api_v1_users_me_agent_invoke_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AegntPrompt"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/transactions/process":{"post":{"tags":["transactions"],"summary":"Process Transaction","description":"Receives a file (image, pdf) from the client, orchestrates the entire ingestion pipeline.","operationId":"process_transaction_api_v1_transactions_process_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_transaction_api_v1_transactions_process_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/transactions":{"get":{"tags":["transactions"],"summary":"Get Transactions","description":"Retrieves transaction data for the authenticated user.","operationId":"get_transactions_api_v1_transactions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":true,"schema":{"type":"string","title":"Start Date"}},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","title":"End Date"}},{"name":"category","in":"query","required":false,"schema":{"type":"string","title":"Category"}},{"name":"store_name","in":"query","required":false,"schema":{"type":"string","title":"Store Name"}},{"name":"item_name","in":"query","required":false,"schema":{"type":"string","title":"Item Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"},"title":"Response Get Transactions Api V1 Transactions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/integrations/wallet/pass":{"post":{"tags":["integrations"],"summary":"Create Wallet Pass","description":"Creates a Google Wallet pass.","operationId":"create_wallet_pass_api_v1_integrations_wallet_pass_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletPassRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/calendar/event":{"post":{"tags":["integrations"],"summary":"Create Calendar Event","description":"Creates a Google Calendar event for warranty or return reminders.","operationId":"create_calendar_event_api_v1_integrations_calendar_event_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalendarEventRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/notifications/send":{"post":{"tags":["integrations"],"summary":"Send Notification","description":"Sends a push notification to a user's device via a service like Firebase Cloud Messaging (FCM).","operationId":"send_notification_api_v1_integrations_notifications_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/challenges":{"get":{"tags":["challenges"],"summary":"Get Challenges","description":"Checks the progress of the authenticated user's active challenges.","operationId":"get_challenges_api_v1_challenges_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Challenge"},"type":"array","title":"Response Get Challenges Api V1 Challenges Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["challenges"],"summary":"Start Challenge","description":"Starts a new savings challenge for the authenticated user.","operationId":"start_challenge_api_v1_challenges_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Challenge"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Challenge"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tasks/proactive_analysis":{"post":{"tags":["tasks"],"summary":"Trigger Proactive Analysis","description":"An endpoint designed to be called by a scheduler.","operationId":"trigger_proactive_analysis_api_v1_tasks_proactive_analysis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProactiveAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AegntPrompt":{"properties":{"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"AegntPrompt"},"Body_process_transaction_api_v1_transactions_process_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_process_transaction_api_v1_transactions_process_post"},"CalendarEventRequest":{"properties":{"event_data":{"additionalProperties":true,"type":"object","title":"Event Data"}},"type":"object","required":["event_data"],"title":"CalendarEventRequest"},"Challenge":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"user_id":{"type":"string","title":"User Id"},"challenge_type":{"type":"string","title":"Challenge Type"},"details":{"additionalProperties":true,"type":"object","title":"Details"},"status":{"type":"string","title":"Status","default":"active"}},"type":"object","required":["user_id","challenge_type","details"],"title":"Challenge"},"FCMTokenUpdate":{"properties":{"fcm_token":{"type":"string","title":"Fcm Token"}},"type":"object","required":["fcm_token"],"title":"FCMTokenUpdate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Item":{"properties":{"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"quantity":{"type":"number","title":"Quantity","default":1.0},"unit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit"},"category":{"type":"string","title":"Category"},"discount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Discount"},"original_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Original Price"}},"type":"object","required":["name","price","category"],"title":"Item"},"NotificationRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["user_id","message"],"title":"NotificationRequest"},"ProactiveAnalysisRequest":{"properties":{"user_id":{"type":"string","title":"User Id"}},"type":"object","required":["user_id"],"title":"ProactiveAnalysisRequest"},"Transaction":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"user_id":{"type":"string","title":"User Id"},"store_name":{"type":"string","title":"Store Name"},"transaction_date":{"type":"string","format":"date-time","title":"Transaction Date"},"items":{"items":{"$ref":"#/components/schemas/Item"},"type":"array","title":"Items"},"total_amount":{"type":"number","title":"Total Amount"},"currency":{"type":"string","title":"Currency","default":"INR"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"tax_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tax Amount"},"discount_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Discount Amount"},"receipt_image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Image Url"}},"type":"object","required":["user_id","store_name","transaction_date","items","total_amount"],"title":"Transaction"},"User":{"properties":{"uid":{"type":"string","title":"Uid"},"email":{"type":"string","format":"email","title":"Email"},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"fcm_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fcm Token"},"id_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id Token"}},"type":"object","required":["uid","email"],"title":"User"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WalletPassRequest":{"properties":{"pass_type":{"type":"string","title":"Pass Type"},"pass_data":{"additionalProperties":true,"type":"object","title":"Pass Data"}},"type":"object","required":["pass_type","pass_data"],"title":"WalletPassRequest"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}